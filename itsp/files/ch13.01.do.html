<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<!-- Generated by statdoc (version v0.9.2-beta) on 2015-09-23 10:12:38 -->
<head>
<meta charset="utf-8"/>
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<title>itsp</title>
<meta name="date" content="2015-09-23">
<script src="../d3.min.js"></script>
<script src="../statdoc.js"></script>
</head>
<body>

<!-- ========= START OF TOP NAVBAR ========= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li ><a href="../overview/overview-summary.html"  target="classFrame">Overview</a></li>
<li ><a href="../variables/variables-summary.html"  target="classFrame">Variables</a></li>
<li  class="navBarCell1Rev"><a href="../files/files-summary.html"  target="classFrame">Files</a></li>
<li ><a href="../tokens/tokens-summary.html"  target="classFrame">Tokens</a></li>
<!-- <li><a href="../flows/flow-summary.html"  target="classFrame">Flows</a></li> -->
<li ><a href="../overview/help-doc.html"  target="classFrame">Help</a></li>
<!-- <li class="navBarCell1Rev">Active</li> -->
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>
	<a href="../files/ch12.6.do.html" title="ch12.6.do">Prev</a>	
	</li>
<li>
    <a href="../files/ch13.09a.do.html" title="ch13.09a.do">Next</a>   
    </li>
</ul>
<ul class="navList">
<li><a href="../compare.html?files/ch13.01.do.html" target="_top">Compare</a></li>
<li><a href="../index.html?files/ch13.01.do.html" target="_top">Frames</a></li>
<li><a href="../files/ch13.01.do.html" target="_top">No Frames</a></li>
</ul>


<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= --><!-- ======== START OF FILE DATA ======== -->
<div class="header">
<div class="subTitle">itsp</div>
<h2 title="Statdoc File ch13.01.do" class="title">File ch13.01.do</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>
<table border="0" style="border-collapse: collapse;table-layout: auto;width: auto;">
  <colgroup>
    <col span="1" width="200px">
    <col width="10px" style="text-align:center;">
    <col width="200px">
    <col width="10px" style="text-align:center;">
    <col span="1" width="200px">
  </colgroup>
<tr class="inheritance">
	<!-- DEBUG match131_hash_-352824093 -->
<!-- DEBUG [urates.dta] -->
<td style="text-align:right;">
    

</td>
<td colspan="1" style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#131" title="ch13.01.do:131 (use)">131</a>]&nbsp;</i>
</td>  

      <td style="white-space: nowrap; background: #eeeeff;">
    <a href="../files/urates.dta.html" title="urates.dta"  target="classFrame" >urates.dta</a>
</td>  
</tr>
<tr class="inheritance">
	<!-- DEBUG match142_hash_-766302264 -->
<!-- DEBUG [urates.dta] -->
<td style="text-align:right;">
    

</td>
<td colspan="1" style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#142" title="ch13.01.do:142 (use)">142</a>]&nbsp;</i>
</td>  

      <td style="white-space: nowrap; background: #eeeeff;">
    <a href="../files/urates.dta.html" title="urates.dta"  target="classFrame" >urates.dta</a>
</td>  
</tr>
<tr class="inheritance">
	<!-- DEBUG match227_hash_-1059868188 -->
<!-- DEBUG [urates.dta] -->
<td style="text-align:right;">
    

</td>
<td colspan="1" style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#227" title="ch13.01.do:227 (use)">227</a>]&nbsp;</i>
</td>  

      <td style="white-space: nowrap; background: #eeeeff;">
    <a href="../files/urates.dta.html" title="urates.dta"  target="classFrame" >urates.dta</a>
</td>  
</tr>
<tr class="inheritance">
	<!-- DEBUG matchback_ofmatch15_hash_347295301_hash_1984552620 -->
<!-- DEBUG [master.do:15] -->
<td style="text-align:right;">
    

</td>
<td colspan="1" style="text-align:center; background: #ffff99;">

</td>  

      <td style="white-space: nowrap; background: #eeeeee;">
    <a href="../files/master.do.html" title="master.do:15 (do)"  target="classFrame" >master.do</a><b>:</b><a href="../files/master.do.html#15" title="master.do:15 (do)"  target="classFrame" >15</a>
</td>  
</tr>
<tr class="inheritance">
<td style="border: none;"></td>
<td style="text-align:center;background: #ffff99;">&rarr;</td>
<td  style="background: #ffff99;">
<span style="background: #ffff99;"><b>ch13.01.do</b></span>
</td>
<td style="text-align:center;background: #ffff99;">&#8600;</td>
</tr>
<tr class="inheritance">
<!-- DEBUG [calcextremamata] -->
<td colspan="2" style="border: none;"></td>

<td style="text-align:right; background:  #ffffff ;" colspan="1">
      <span style="white-space: nowrap; background: #ffffff;">
    <a href="../files/ch13.01.do.html#8" title="calcextremamata"  target="classFrame" >calcextremamata</a><br>
</span>  
</td> 
<td style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#8" title="ch13.01.do:8 (do)">8</a>]&nbsp;</i>
</td>
<td>

</td>
</tr>
<tr class="inheritance">
<!-- DEBUG [centervmata] -->
<td colspan="2" style="border: none;"></td>

<td style="text-align:right; background:  #ffffff ;" colspan="1">
      <span style="white-space: nowrap; background: #ffffff;">
    <a href="../files/ch13.01.do.html#80" title="centervmata"  target="classFrame" >centervmata</a><br>
</span>  
</td> 
<td style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#80" title="ch13.01.do:80 (do)">80</a>]&nbsp;</i>
</td>
<td>

</td>
</tr>
<tr class="inheritance">
<!-- DEBUG [avgpermata] -->
<td colspan="2" style="border: none;"></td>

<td style="text-align:right; background:  #ffffff ;" colspan="1">
      <span style="white-space: nowrap; background: #ffffff;">
    <a href="../files/ch13.01.do.html#130" title="avgpermata"  target="classFrame" >avgpermata</a><br>
</span>  
</td> 
<td style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#130" title="ch13.01.do:130 (do)">130</a>]&nbsp;</i>
</td>
<td>

</td>
</tr>
<tr class="inheritance">
<!-- DEBUG [aggregmata] -->
<td colspan="2" style="border: none;"></td>

<td style="text-align:right; background:  #ffffff ;" colspan="1">
      <span style="white-space: nowrap; background: #ffffff;">
    <a href="../files/ch13.01.do.html#188" title="aggregmata"  target="classFrame" >aggregmata</a><br>
</span>  
</td> 
<td style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#188" title="ch13.01.do:188 (do)">188</a>]&nbsp;</i>
</td>
<td>

</td>
</tr>
<tr class="inheritance">
<!-- DEBUG [gbpvalmata] -->
<td colspan="2" style="border: none;"></td>

<td style="text-align:right; background:  #ffffff ;" colspan="1">
      <span style="white-space: nowrap; background: #ffffff;">
    <a href="../files/ch13.01.do.html#240" title="gbpvalmata"  target="classFrame" >gbpvalmata</a><br>
</span>  
</td> 
<td style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#240" title="ch13.01.do:240 (do)">240</a>]&nbsp;</i>
</td>
<td>

</td>
</tr>
<tr class="inheritance">
<!-- DEBUG [gbpval2mata] -->
<td colspan="2" style="border: none;"></td>

<td style="text-align:right; background:  #ffffff ;" colspan="1">
      <span style="white-space: nowrap; background: #ffffff;">
    <a href="../files/ch13.01.do.html#244" title="gbpval2mata"  target="classFrame" >gbpval2mata</a><br>
</span>  
</td> 
<td style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#244" title="ch13.01.do:244 (do)">244</a>]&nbsp;</i>
</td>
<td>

</td>
</tr>
<tr class="inheritance">
<!-- DEBUG [gbpval3mata] -->
<td colspan="2" style="border: none;"></td>

<td style="text-align:right; background:  #ffffff ;" colspan="1">
      <span style="white-space: nowrap; background: #ffffff;">
    <a href="../files/ch13.01.do.html#248" title="gbpval3mata"  target="classFrame" >gbpval3mata</a><br>
</span>  
</td> 
<td style="text-align:center; background: #ffff99;">

<i>&nbsp;[<a href="../files/ch13.01.do.html#248" title="ch13.01.do:248 (do)">248</a>]&nbsp;</i>
</td>
<td>

</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>

<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><span class="strong">ch13.01.do <a href="../ch13.01.do">open</a></span>
file:script:do</pre>
</li>
</ul>

</div>
<ul class="blockList">
<li class="blockList">
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">date</td>
  <td class="colLast">Wed Sep 23 21:31:43 EST 2015</td>
  </tr>
    </tbody>
  </table>
</li>
</ul>




<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Variable Summary table, listing datasets and labels">
<caption><span><a name="variables"><!-- --></a>All commands</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" style="width:30px" scope="col">#</th>
<th class="colLast" width="100%" scope="col">content
<!-- <span style="float: right;">&nbsp;<a title="Raw Source" onclick="toggle('rawframe');setIframeHeight('rawframe');">raw</a> -->
</th>
<!--
<td style="display:none;" id="rawframe" rowspan="130" height="100%">
<iframe scrolling="yes" width="600px" height="100%" src="../files/ch13.01.do.html#content" name="statdocSubFrame_raw" title="Raw File" style="height: 100%; width: 600px; overflow-x:scroll; overflow-y:scroll; -ms-overflow-x:scroll; -ms-overflow-y:scroll;"></iframe>
</td>
-->
</tr>
 <tr class="cmd_comment altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="1" title="comment"><!-- -->
    1</a>&nbsp;<a onclick='toggle("cmd_-64076789");' title="comment">[+]</a>
</td>
<td class="colLast" style="padding-left:${ind}em">
  <span class="cmdcomment">// itsp 13.00-</span>
<div id="cmd_-64076789" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">// itsp 13.00-</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// itsp 13.00-</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="3" title="capt"><!-- -->
    3</a>&nbsp;<a onclick='toggle("cmd_-665199857");' title="capt">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">capt</span>
  <span class="cmdparameters"><a href="../tokens/p.html#program">program</a> <a href="../variables/drop.html">drop</a> <a href="../tokens/_.html#_all">_all</a></span>
<div id="cmd_-665199857" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">capt program drop _all</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">capt</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/p.html#program">program</a> <a href="../variables/drop.html">drop</a> <a href="../tokens/_.html#_all">_all</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_systemcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="4" title="mata"><!-- -->
    4</a>&nbsp;<a onclick='toggle("cmd_1527750214");' title="mata">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdprefix"><a href="../tokens/m.html#mata">mata</a>:</span>
 <span class="cmdcommand">mata</span>
  <span class="cmdparameters"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_1527750214" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">mata: mata clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">mata</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">prefix</td>
  <td class="colLast"><a href="../tokens/m.html#mata">mata</a>:</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="6" title="type"><!-- -->
    6</a>&nbsp;<a onclick='toggle("cmd_545608275");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../files/ch13.01.do.html#6">varextrema</a>.<a href="../tokens/a.html#ado">ado</a></span>
<div id="cmd_545608275" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type varextrema.ado</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../files/ch13.01.do.html#6">varextrema</a>.<a href="../tokens/a.html#ado">ado</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_runcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="8" title="do"><!-- -->
    8</a>&nbsp;<a onclick='toggle("cmd_-581266745");' title="do">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">do</span>
  <span class="cmdparameters"><a href="../tokens/c.html#calcextrema">calcextrema</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_-581266745" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">do calcextrema.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">do</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/c.html#calcextrema">calcextrema</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="10" title="type"><!-- -->
    10</a>&nbsp;<a onclick='toggle("cmd_-1387869556");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/c.html#calcextrema">calcextrema</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_-1387869556" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type calcextrema.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/c.html#calcextrema">calcextrema</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_systemcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="12" title="sysuse"><!-- -->
    12</a>&nbsp;<a onclick='toggle("cmd_1808966752");' title="sysuse">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">sysuse</span>
  <span class="cmdparameters"><a href="../tokens/a.html#auto">auto</a></span>
, <span class="cmdoptions"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_1808966752" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">sysuse auto, clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">sysuse</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#auto">auto</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="13" title="varextrema"><!-- -->
    13</a>&nbsp;<a onclick='toggle("cmd_1116914983");' title="varextrema">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">varextrema</span>
  <span class="cmdparameters"><a href="../variables/price.html">price</a></span>
if <span class="cmdif"><a href="../tokens/f.html#foreign">foreign</a></span>
<div id="cmd_1116914983" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">varextrema price if foreign</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">varextrema</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">if</td>
  <td class="colLast"><a href="../tokens/f.html#foreign">foreign</a></td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/price.html">price</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_systemcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="14" title="return"><!-- -->
    14</a>&nbsp;<a onclick='toggle("cmd_-431361181");' title="return">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">return</span>
  <span class="cmdparameters"><a href="../tokens/l.html#list">list</a></span>
<div id="cmd_-431361181" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">return list</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">return</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/l.html#list">list</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr>
<td class="colFirst" style="width:30px"></td>
<td class="colLast" style="padding-left:0em"><div class="cmd_comment"> /* *! centervars 1.0.1  CFBaum 08oct2007 program centervars, rclass version 10.1 syntax varlist(numeric) [if] [in] marksample touse quietly count if `touse' if `r(N)' == 0  error 2000 mata: centerv("`varlist'", "`touse'") end</div></td>
</tr>
<tr class="cmd_mata rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="28" title="mata"><!-- -->
    28</a>&nbsp;<a onclick='toggle("cmd_-2122803699");' title="mata">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">mata</span>
  <span class="cmdcomment">block (8 lines)</span>
<div id="cmd_-2122803699" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">
mata:
void centerv(string scalar varlist, ///
              string scalar touse)
{
  st_view(X=., ., tokens(varlist), touse)
  X[ , ] = X:- mean(X)
}
end</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">mata</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">comment</td>
  <td class="colLast">block (8 lines)</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_systemcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="39" title="sysuse"><!-- -->
    39</a>&nbsp;<a onclick='toggle("cmd_1721242371");' title="sysuse">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">sysuse</span>
  <span class="cmdparameters"><a href="../tokens/a.html#auto">auto</a></span>
, <span class="cmdoptions"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_1721242371" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">sysuse auto, clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">sysuse</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#auto">auto</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="40" title="centervars"><!-- -->
    40</a>&nbsp;<a onclick='toggle("cmd_938283803");' title="centervars">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">centervars</span>
  <span class="cmdparameters"><a href="../variables/price.html">price</a> <a href="../tokens/m.html#mpg">mpg</a></span>
<div id="cmd_938283803" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">centervars price mpg</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">centervars</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/price.html">price</a> <a href="../tokens/m.html#mpg">mpg</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_statcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="41" title="summarize"><!-- -->
    41</a>&nbsp;<a onclick='toggle("cmd_-160155811");' title="summarize">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">summarize</span>
  <span class="cmdparameters"><a href="../variables/price.html">price</a> <a href="../tokens/m.html#mpg">mpg</a></span>
<div id="cmd_-160155811" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">summarize price mpg</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">summarize</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/price.html">price</a> <a href="../tokens/m.html#mpg">mpg</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_comment rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="42" title="comment"><!-- -->
    42</a>&nbsp;<a onclick='toggle("cmd_-1596107034");' title="comment">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
  <span class="cmdcomment">*/</span>
<div id="cmd_-1596107034" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">*/</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">*/</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_blockcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="44" title="program"><!-- -->
    44</a>&nbsp;<a onclick='toggle("cmd_1674554524");' title="program">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">program</span>
  <span class="cmdparameters"><a href="../variables/drop.html">drop</a> <a href="../tokens/_.html#_all">_all</a></span>
<div id="cmd_1674554524" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">program drop _all</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">program</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/drop.html">drop</a> <a href="../tokens/_.html#_all">_all</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_systemcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="45" title="mata"><!-- -->
    45</a>&nbsp;<a onclick='toggle("cmd_-240693837");' title="mata">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdprefix"><a href="../tokens/m.html#mata">mata</a>:</span>
 <span class="cmdcommand">mata</span>
  <span class="cmdparameters"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_-240693837" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">mata: mata clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">mata</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">prefix</td>
  <td class="colLast"><a href="../tokens/m.html#mata">mata</a>:</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="47" title="type"><!-- -->
    47</a>&nbsp;<a onclick='toggle("cmd_-1850149240");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../files/ch13.01.do.html#47">centervars</a>.<a href="../tokens/a.html#ado">ado</a></span>
<div id="cmd_-1850149240" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type centervars.ado</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../files/ch13.01.do.html#47">centervars</a>.<a href="../tokens/a.html#ado">ado</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr>
<td class="colFirst" style="width:30px"></td>
<td class="colLast" style="padding-left:0em"><div class="cmd_comment"> /* version 10.1</div></td>
</tr>
<tr class="cmd_mata rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="67" title="mata"><!-- -->
    67</a>&nbsp;<a onclick='toggle("cmd_-397366760");' title="mata">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">mata</span>
  <span class="cmdcomment">block (10 lines)</span>
<div id="cmd_-397366760" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">
mata:
void centerv(string scalar varlist, ///
              string scalar newvarlist,
              string scalar touse)
{
  st_view(X=., ., tokens(varlist), touse)
  st_view(Z=., ., tokens(newvarlist), touse)
  Z[ , ] = X:- mean(X)
}
end</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">mata</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">block (10 lines)</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr>
<td class="colFirst" style="width:30px"></td>
<td class="colLast" style="padding-left:0em"><div class="cmd_comment"> */</div></td>
</tr>
<tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="78" title="type"><!-- -->
    78</a>&nbsp;<a onclick='toggle("cmd_912096132");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/c.html#centerv">centerv</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_912096132" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">*/
type centerv.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/c.html#centerv">centerv</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_runcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="80" title="do"><!-- -->
    80</a>&nbsp;<a onclick='toggle("cmd_1646122616");' title="do">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">do</span>
  <span class="cmdparameters"><a href="../tokens/c.html#centerv">centerv</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_1646122616" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">do centerv.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">do</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/c.html#centerv">centerv</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_systemcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="82" title="sysuse"><!-- -->
    82</a>&nbsp;<a onclick='toggle("cmd_1817159019");' title="sysuse">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">sysuse</span>
  <span class="cmdparameters"><a href="../tokens/a.html#auto">auto</a></span>
, <span class="cmdoptions"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_1817159019" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">sysuse auto, clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">sysuse</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#auto">auto</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="83" title="centervars"><!-- -->
    83</a>&nbsp;<a onclick='toggle("cmd_2069062080");' title="centervars">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">centervars</span>
  <span class="cmdparameters"><a href="../variables/price.html">price</a> <a href="../tokens/m.html#mpg">mpg</a></span>
, <span class="cmdoptions"> <a href="../tokens/g.html#gen">gen(</a><a href="../files/ch13.01.do.html#83">c_</a>)</span>
<div id="cmd_2069062080" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">centervars price mpg, gen(c_)</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">centervars</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/g.html#gen">gen(</a><a href="../files/ch13.01.do.html#83">c_</a>)</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/price.html">price</a> <a href="../tokens/m.html#mpg">mpg</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="84" title="centervars"><!-- -->
    84</a>&nbsp;<a onclick='toggle("cmd_-1947780268");' title="centervars">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">centervars</span>
  <span class="cmdparameters"><a href="../variables/price.html">price</a> <a href="../tokens/m.html#mpg">mpg</a></span>
if <span class="cmdif"><a href="../tokens/f.html#foreign">foreign</a></span>
, <span class="cmdoptions"> <a href="../tokens/g.html#gen">gen(</a><a href="../files/ch13.01.do.html#84">cf_</a>) <a href="../tokens/d.html#double">double</a></span>
<div id="cmd_-1947780268" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">centervars price mpg if foreign, gen(cf_) double</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">centervars</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">if</td>
  <td class="colLast"><a href="../tokens/f.html#foreign">foreign</a></td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/g.html#gen">gen(</a><a href="../files/ch13.01.do.html#84">cf_</a>) <a href="../tokens/d.html#double">double</a></td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/price.html">price</a> <a href="../tokens/m.html#mpg">mpg</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_statcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="85" title="summarize"><!-- -->
    85</a>&nbsp;<a onclick='toggle("cmd_981521255");' title="summarize">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">summarize</span>
  <span class="cmdparameters"><a href="../tokens/c.html#c">c*</a></span>
<div id="cmd_981521255" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">summarize c*</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">summarize</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/c.html#c">c*</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_blockcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="88" title="program"><!-- -->
    88</a>&nbsp;<a onclick='toggle("cmd_-1022823700");' title="program">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">program</span>
  <span class="cmdparameters"><a href="../variables/drop.html">drop</a> <a href="../tokens/_.html#_all">_all</a></span>
<div id="cmd_-1022823700" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">program drop _all</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">program</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/drop.html">drop</a> <a href="../tokens/_.html#_all">_all</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_systemcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="89" title="mata"><!-- -->
    89</a>&nbsp;<a onclick='toggle("cmd_1074505465");' title="mata">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdprefix"><a href="../tokens/m.html#mata">mata</a>:</span>
 <span class="cmdcommand">mata</span>
  <span class="cmdparameters"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_1074505465" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">mata: mata clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">mata</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">prefix</td>
  <td class="colLast"><a href="../tokens/m.html#mata">mata</a>:</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="90" title="type"><!-- -->
    90</a>&nbsp;<a onclick='toggle("cmd_-1034763301");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/a.html#avgper">avgper</a>.<a href="../tokens/a.html#ado">ado</a></span>
<div id="cmd_-1034763301" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type avgper.ado</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#avgper">avgper</a>.<a href="../tokens/a.html#ado">ado</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="93" title="type"><!-- -->
    93</a>&nbsp;<a onclick='toggle("cmd_1129259638");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/a.html#avgper">avgper</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_1129259638" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type avgper.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#avgper">avgper</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_comment altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="95" title="comment"><!-- -->
    95</a>&nbsp;<a onclick='toggle("cmd_-638829587");' title="comment">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
  <span class="cmdcomment">
/*
*! avgper 1.0.0  CFBaum 08oct2007
program avgper, rclass
	version 10.1
	syntax varlist(max=1 numeric) [if] [in], per(integer)
// honor if and in conditions if provided
	marksample touse
	quietly count if `touse'
    if `r(N)' == 0 {
       error 2000
    }
	local newvar = "`varlist'" + "A" + string(`per')
	quietly generate `newvar' = .
* pass the varname and newvarname to Mata
	mata: avgper("`varlist'", "`newvar'",  `per', "`touse'")
	end
*/</span>
<div id="cmd_-638829587" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">
/*
*! avgper 1.0.0  CFBaum 08oct2007
program avgper, rclass
	version 10.1
	syntax varlist(max=1 numeric) [if] [in], per(integer)
// honor if and in conditions if provided
	marksample touse
	quietly count if `touse'
    if `r(N)' == 0 {
       error 2000
    }
	local newvar = "`varlist'" + "A" + string(`per')
	quietly generate `newvar' = .
* pass the varname and newvarname to Mata
	mata: avgper("`varlist'", "`newvar'",  `per', "`touse'")
	end
*/</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">
/*
*! avgper 1.0.0  CFBaum 08oct2007
program avgper, rclass
	version 10.1
	syntax varlist(max=1 numeric) [if] [in], per(integer)
// honor if and in conditions if provided
	marksample touse
	quietly count if `touse'
    if `r(N)' == 0 {
       error 2000
    }
	local newvar = "`varlist'" + "A" + string(`per')
	quietly generate `newvar' = .
* pass the varname and newvarname to Mata
	mata: avgper("`varlist'", "`newvar'",  `per', "`touse'")
	end
*/</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr>
<td class="colFirst" style="width:30px"></td>
<td class="colLast" style="padding-left:0em"><div class="cmd_comment"> /* version 10.1</div></td>
</tr>
<tr class="cmd_mata rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="115" title="mata"><!-- -->
    115</a>&nbsp;<a onclick='toggle("cmd_846779718");' title="mata">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">mata</span>
  <span class="cmdcomment">block (13 lines)</span>
<div id="cmd_846779718" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">
mata:
	void avgper(string scalar vname,
            string scalar newvname,
	            real scalar per,
	            string scalar touse)
	{      
        real matrix v1, v3
	st_view(v1=., ., vname, touse)
	st_view(v2=., ., newvname)
	v3 = colshape(v1',per) * J(per, 1, 1/per)
	v2[(1::rows(v3)),] = v3
	}
end</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">mata</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">block (13 lines)</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_comment altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="128" title="comment"><!-- -->
    128</a>&nbsp;<a onclick='toggle("cmd_1800103563");' title="comment">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
  <span class="cmdcomment">*/</span>
<div id="cmd_1800103563" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">*/</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">comment</td>
  <td class="colLast">*/</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_runcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="130" title="do"><!-- -->
    130</a>&nbsp;<a onclick='toggle("cmd_1054903077");' title="do">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">do</span>
  <span class="cmdparameters"><a href="../tokens/a.html#avgper">avgper</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_1054903077" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">do avgper.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">do</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#avgper">avgper</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_importcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="131" title="use"><!-- -->
    131</a>&nbsp;<a onclick='toggle("cmd_1513100617");' title="use">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">use</span>
  <span class="cmdparameters"><a href="../tokens/u.html#urates">urates</a></span>
, <span class="cmdoptions"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_1513100617" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">use urates, clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">use</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/u.html#urates">urates</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_systemcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="132" title="tsset"><!-- -->
    132</a>&nbsp;<a onclick='toggle("cmd_716108667");' title="tsset">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">tsset</span>
  <span class="cmdparameters"></span>
<div id="cmd_716108667" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">tsset</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">tsset</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="133" title="avgper"><!-- -->
    133</a>&nbsp;<a onclick='toggle("cmd_-1078147608");' title="avgper">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">avgper</span>
  <span class="cmdparameters"><a href="../variables/tenn.html">tenn</a></span>
, <span class="cmdoptions"> <a href="../tokens/p.html#per">per(</a>3)</span>
  <span class="cmdcomment">// calculate quarterly averages</span>
<div id="cmd_-1078147608" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">avgper tenn, per(3)  // calculate quarterly averages</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">avgper</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// calculate quarterly averages</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/p.html#per">per(</a>3)</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/tenn.html">tenn</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="134" title="avgper"><!-- -->
    134</a>&nbsp;<a onclick='toggle("cmd_-1171274044");' title="avgper">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">avgper</span>
  <span class="cmdparameters"><a href="../variables/tenn.html">tenn</a></span>
, <span class="cmdoptions"> <a href="../tokens/p.html#per">per(</a>12)</span>
  <span class="cmdcomment">// calculate annual averages</span>
<div id="cmd_-1171274044" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">avgper tenn, per(12) // calculate annual averages</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">avgper</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// calculate annual averages</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/p.html#per">per(</a>12)</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/tenn.html">tenn</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_statcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="135" title="summarize"><!-- -->
    135</a>&nbsp;<a onclick='toggle("cmd_1253598923");' title="summarize">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">summarize</span>
  <span class="cmdparameters"><a href="../variables/tenn.html">tenn*</a></span>
<div id="cmd_1253598923" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">summarize tenn*</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">summarize</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/tenn.html">tenn*</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="137" title="tsmktim"><!-- -->
    137</a>&nbsp;<a onclick='toggle("cmd_-862320938");' title="tsmktim">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">tsmktim</span>
  <span class="cmdparameters"><a href="../tokens/q.html#quarter">quarter</a></span>
, <span class="cmdoptions"> <a href="../tokens/s.html#start">start(</a><a href="../tokens/1.html#1978q1">1978q1</a>)</span>
  <span class="cmdcomment">// create quarterly calendar var</span>
<div id="cmd_-862320938" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">tsmktim quarter, start(1978q1) // create quarterly calendar var</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">tsmktim</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// create quarterly calendar var</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/s.html#start">start(</a><a href="../tokens/1.html#1978q1">1978q1</a>)</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/q.html#quarter">quarter</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="138" title="tsmktim"><!-- -->
    138</a>&nbsp;<a onclick='toggle("cmd_2091203925");' title="tsmktim">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">tsmktim</span>
  <span class="cmdparameters"><a href="../variables/year.html">year</a></span>
, <span class="cmdoptions"> <a href="../tokens/s.html#start">start(</a>1978)</span>
  <span class="cmdcomment">// create annual calendar var</span>
<div id="cmd_2091203925" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">tsmktim year, start(1978)      // create annual calendar var</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">tsmktim</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// create annual calendar var</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/s.html#start">start(</a>1978)</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/year.html">year</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_statcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="139" title="list"><!-- -->
    139</a>&nbsp;<a onclick='toggle("cmd_-1065186758");' title="list">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">list</span>
  <span class="cmdparameters">t <a href="../variables/tenn.html">tenn</a> <a href="../tokens/q.html#quarter">quarter</a> <a href="../tokens/t.html#tennA3">tennA3</a> <a href="../variables/year.html">year</a> <a href="../files/ch13.01.do.html#139">tennA12</a></span>
in <span class="cmdin">1/12</span>
, <span class="cmdoptions"> <a href="../tokens/s.html#sep">sep(</a>3)</span>
<div id="cmd_-1065186758" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">list t tenn quarter tennA3 year tennA12 in 1/12, sep(3)</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">list</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">in</td>
  <td class="colLast">1/12</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/s.html#sep">sep(</a>3)</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast">t <a href="../variables/tenn.html">tenn</a> <a href="../tokens/q.html#quarter">quarter</a> <a href="../tokens/t.html#tennA3">tennA3</a> <a href="../variables/year.html">year</a> <a href="../files/ch13.01.do.html#139">tennA12</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_importcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="142" title="use"><!-- -->
    142</a>&nbsp;<a onclick='toggle("cmd_-1421208280");' title="use">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">use</span>
  <span class="cmdparameters"><a href="../tokens/u.html#urates">urates</a></span>
, <span class="cmdoptions"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_-1421208280" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">use urates, clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">use</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/u.html#urates">urates</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_blockcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="143" title="foreach"><!-- -->
    143</a>&nbsp;<a onclick='toggle("cmd_-866616428");' title="foreach">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">foreach</span>
  <span class="cmdparameters">v <a href="../tokens/o.html#of">of</a> <a href="../tokens/v.html#varlist">varlist</a> <a href="../variables/tenn.html">tenn</a>-<a href="../variables/arkansas.html">arkansas</a> {</span>
<div id="cmd_-866616428" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">foreach v of varlist tenn-arkansas {</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">foreach</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast">v <a href="../tokens/o.html#of">of</a> <a href="../tokens/v.html#varlist">varlist</a> <a href="../variables/tenn.html">tenn</a>-<a href="../variables/arkansas.html">arkansas</a> {</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="144" title="avgper"><!-- -->
    144</a>&nbsp;<a onclick='toggle("cmd_-1978061725");' title="avgper">[+]</a>
</td>
<td class="colLast" style="padding-left:2em">
 <span class="cmdcommand">avgper</span>
  <span class="cmdparameters">`v'</span>
, <span class="cmdoptions"> <a href="../tokens/p.html#per">per(</a>3)</span>
<div id="cmd_-1978061725" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">	avgper `v', per(3)</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">avgper</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">1</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/p.html#per">per(</a>3)</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast">`v'</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_blockcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="145" title="}"><!-- -->
    145</a>&nbsp;<a onclick='toggle("cmd_868529392");' title="}">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">}</span>
  <span class="cmdparameters"></span>
<div id="cmd_868529392" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">}</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">}</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_statcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="146" title="summarize"><!-- -->
    146</a>&nbsp;<a onclick='toggle("cmd_-964102060");' title="summarize">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">summarize</span>
  <span class="cmdparameters"><a href="../variables/tenn.html">tenn</a>-<a href="../files/ch13.01.do.html#146">arkansasA3</a></span>
, <span class="cmdoptions"> <a href="../tokens/s.html#sep">sep(</a>6)</span>
<div id="cmd_-964102060" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">summarize tenn-arkansasA3, sep(6)</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">summarize</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/s.html#sep">sep(</a>6)</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/tenn.html">tenn</a>-<a href="../files/ch13.01.do.html#146">arkansasA3</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="148" title="type"><!-- -->
    148</a>&nbsp;<a onclick='toggle("cmd_-1029561877");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/a.html#aggreg">aggreg</a>.<a href="../tokens/a.html#ado">ado</a></span>
<div id="cmd_-1029561877" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type aggreg.ado</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#aggreg">aggreg</a>.<a href="../tokens/a.html#ado">ado</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr>
<td class="colFirst" style="width:30px"></td>
<td class="colLast" style="padding-left:0em"><div class="cmd_comment"> /* program aggreg, rclass version 10.1 syntax varlist(max=1 numeric) [if] [in], per(integer) [func(string)] marksample touse quietly count if `touse' if `r(N)' == 0 { error 2000 } * validate per versus selected sample if `per' <= 0 | `per' >= `r(N)' { display as error "per must be > 0 and < N of observations." error 198 } if mod(`r(N)',`per' != 0) { display as error "N of observations must be a multiple of per." error 198 } * validate func option; default is average (code A) local ops A S F L local opnames average sum first last if "`func'" == "" { local op "A" } else { local nop : list posof "`func'" in opnames if !`nop' { display as err "Error: func must be chosen from `opnames'" error 198 } local op : word `nop' of `ops' } * validate the new varname local newvar = "`varlist'`op'`per'" quietly generate `newvar' = . * pass the varname and newvarname to Mata mata: aggreg("`varlist'", "`newvar'",  `per', "`op'", "`touse'") end */</div></td>
</tr>
<tr class="cmd_runcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="188" title="do"><!-- -->
    188</a>&nbsp;<a onclick='toggle("cmd_-2020797568");' title="do">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">do</span>
  <span class="cmdparameters"><a href="../tokens/a.html#aggreg">aggreg</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_-2020797568" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">
/*
program aggreg, rclass
	version 10.1
	syntax varlist(max=1 numeric) [if] [in], per(integer) [func(string)]
	marksample touse
	quietly count if `touse'
	if `r(N)' == 0 {
	        error 2000
	}
* validate per versus selected sample
	if `per' <= 0 | `per' >= `r(N)' {
		display as error "per must be > 0 and < N of observations."
		error 198
	}
	if mod(`r(N)',`per' != 0) {
		display as error "N of observations must be a multiple of per."
		error 198
	}
* validate func option; default is average (code A)
    local ops A S F L
    local opnames average sum first last
    if "`func'" == "" {
    	local op "A"
    }
    else {
    	local nop : list posof "`func'" in opnames
    	if !`nop' {
    		display as err "Error: func must be chosen from `opnames'"
    		error 198
    	}
    	local op : word `nop' of `ops'
    }
* validate the new varname
	local newvar = "`varlist'`op'`per'"
     quietly generate `newvar' = .
* pass the varname and newvarname to Mata
	mata: aggreg("`varlist'", "`newvar'",  `per', "`op'", "`touse'")
	end
*/
do aggreg.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">do</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#aggreg">aggreg</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="190" title="type"><!-- -->
    190</a>&nbsp;<a onclick='toggle("cmd_838293925");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/a.html#aggreg">aggreg</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_838293925" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type aggreg.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/a.html#aggreg">aggreg</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr>
<td class="colFirst" style="width:30px"></td>
<td class="colLast" style="padding-left:0em"><div class="cmd_comment"> /* version 10.1</div></td>
</tr>
<tr class="cmd_mata altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="194" title="mata"><!-- -->
    194</a>&nbsp;<a onclick='toggle("cmd_-611172738");' title="mata">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">mata</span>
  <span class="cmdcomment">block (28 lines)</span>
<div id="cmd_-611172738" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">
mata:
void aggreg(string scalar vname,
            string scalar newvname,
	            real scalar per,
	        string scalar op,
	            string scalar touse)
	{
	real colvector mult
	if (op=="A") {
	     mult = J(per, 1, 1/per)
	}
	else if (op=="S") {
	     mult = J(per, 1, 1)
	}
	else if (op=="F") {
		 mult = J(per, 1, 0)
		 mult[1] = 1
	}
	else if (op=="L") {
	     mult = J(per, 1, 0)
	     mult[per] = 1
	}
	st_view(v1=., ., vname, touse)
	st_view(v2=., ., newvname)
	v3 = colshape(v1', per) * mult
	v2[(1::rows(v3)),] = v3
	}
end</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">mata</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">block (28 lines)</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_comment rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="222" title="comment"><!-- -->
    222</a>&nbsp;<a onclick='toggle("cmd_-1247930214");' title="comment">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
  <span class="cmdcomment">*/</span>
<div id="cmd_-1247930214" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">*/</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">comment</td>
  <td class="colLast">*/</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr>
<td class="colFirst" style="width:30px"></td>
<td class="colLast" style="padding-left:0em"><div class="cmd_comment"> * webuse urates, clear</div></td>
</tr>
<tr class="cmd_systemcmd altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="225" title="clear"><!-- -->
    225</a>&nbsp;<a onclick='toggle("cmd_597697231");' title="clear">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">clear</span>
  <span class="cmdparameters"></span>
<div id="cmd_597697231" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">* webuse urates, clear
clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">clear</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_importcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="227" title="use"><!-- -->
    227</a>&nbsp;<a onclick='toggle("cmd_-1680638372");' title="use">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">use</span>
  <span class="cmdparameters"><a href="../tokens/u.html#urates">urates</a></span>
, <span class="cmdoptions"> <a href="../tokens/c.html#clear">clear</a></span>
<div id="cmd_-1680638372" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">use urates, clear</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">use</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/c.html#clear">clear</a></td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/u.html#urates">urates</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="228" title="aggreg"><!-- -->
    228</a>&nbsp;<a onclick='toggle("cmd_-909028876");' title="aggreg">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">aggreg</span>
  <span class="cmdparameters"><a href="../variables/tenn.html">tenn</a></span>
, <span class="cmdoptions"> <a href="../tokens/p.html#per">per(</a>3)</span>
  <span class="cmdcomment">// calculate quarterly averages</span>
<div id="cmd_-909028876" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">aggreg tenn, per(3)  // calculate quarterly averages</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">aggreg</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// calculate quarterly averages</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/p.html#per">per(</a>3)</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/tenn.html">tenn</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="229" title="aggreg"><!-- -->
    229</a>&nbsp;<a onclick='toggle("cmd_-1202019444");' title="aggreg">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">aggreg</span>
  <span class="cmdparameters"><a href="../variables/tenn.html">tenn</a></span>
, <span class="cmdoptions"> <a href="../tokens/p.html#per">per(</a>3) <a href="../tokens/f.html#func">func(</a><a href="../tokens/s.html#sum">sum</a>)</span>
  <span class="cmdcomment">// calculate quarterly sum</span>
<div id="cmd_-1202019444" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">aggreg tenn, per(3) func(sum) // calculate quarterly sum</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">aggreg</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// calculate quarterly sum</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/p.html#per">per(</a>3) <a href="../tokens/f.html#func">func(</a><a href="../tokens/s.html#sum">sum</a>)</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/tenn.html">tenn</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="230" title="aggreg"><!-- -->
    230</a>&nbsp;<a onclick='toggle("cmd_1872704272");' title="aggreg">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">aggreg</span>
  <span class="cmdparameters"><a href="../variables/tenn.html">tenn</a></span>
, <span class="cmdoptions"> <a href="../tokens/p.html#per">per(</a>3) <a href="../tokens/f.html#func">func(</a><a href="../files/ch13.01.do.html#230">first</a>)</span>
  <span class="cmdcomment">// extract first month's value</span>
<div id="cmd_1872704272" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">aggreg tenn, per(3) func(first) // extract first month's value</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">aggreg</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// extract first month's value</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/p.html#per">per(</a>3) <a href="../tokens/f.html#func">func(</a><a href="../files/ch13.01.do.html#230">first</a>)</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/tenn.html">tenn</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="231" title="aggreg"><!-- -->
    231</a>&nbsp;<a onclick='toggle("cmd_73646907");' title="aggreg">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">aggreg</span>
  <span class="cmdparameters"><a href="../variables/tenn.html">tenn</a></span>
, <span class="cmdoptions"> <a href="../tokens/p.html#per">per(</a>3) <a href="../tokens/f.html#func">func(</a><a href="../variables/last.html">last</a>)</span>
  <span class="cmdcomment">// extract first month's value</span>
<div id="cmd_73646907" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">aggreg tenn, per(3) func(last) // extract first month's value</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">aggreg</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// extract first month's value</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/p.html#per">per(</a>3) <a href="../tokens/f.html#func">func(</a><a href="../variables/last.html">last</a>)</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../variables/tenn.html">tenn</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="232" title="tsmktim"><!-- -->
    232</a>&nbsp;<a onclick='toggle("cmd_-97089665");' title="tsmktim">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">tsmktim</span>
  <span class="cmdparameters"><a href="../tokens/q.html#quarter">quarter</a></span>
, <span class="cmdoptions"> <a href="../tokens/s.html#start">start(</a><a href="../tokens/1.html#1978q1">1978q1</a>)</span>
  <span class="cmdcomment">// create quarterly calendar var</span>
<div id="cmd_-97089665" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">tsmktim quarter, start(1978q1) // create quarterly calendar var</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">tsmktim</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">comment</td>
  <td class="colLast">// create quarterly calendar var</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/s.html#start">start(</a><a href="../tokens/1.html#1978q1">1978q1</a>)</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/q.html#quarter">quarter</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_statcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="233" title="list"><!-- -->
    233</a>&nbsp;<a onclick='toggle("cmd_2040366469");' title="list">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">list</span>
  <span class="cmdparameters">t <a href="../variables/tenn.html">tenn</a> <a href="../tokens/q.html#quarter">quarter</a> <a href="../tokens/t.html#tennA3">tennA3</a> <a href="../files/ch13.01.do.html#233">tennS3</a> <a href="../files/ch13.01.do.html#233">tennF3</a> <a href="../files/ch13.01.do.html#233">tennL3</a></span>
in <span class="cmdin">1/12</span>
, <span class="cmdoptions"> <a href="../tokens/s.html#sep">sep(</a>3)</span>
<div id="cmd_2040366469" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">list t tenn quarter tennA3 tennS3 tennF3 tennL3 in 1/12, sep(3)</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">list</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">in</td>
  <td class="colLast">1/12</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">options</td>
  <td class="colLast"> <a href="../tokens/s.html#sep">sep(</a>3)</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast">t <a href="../variables/tenn.html">tenn</a> <a href="../tokens/q.html#quarter">quarter</a> <a href="../tokens/t.html#tennA3">tennA3</a> <a href="../files/ch13.01.do.html#233">tennS3</a> <a href="../files/ch13.01.do.html#233">tennF3</a> <a href="../files/ch13.01.do.html#233">tennL3</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_comment altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="235" title="comment"><!-- -->
    235</a>&nbsp;<a onclick='toggle("cmd_-51029562");' title="comment">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
  <span class="cmdcomment">
/*
// save the compiled averageper function 
mata: mata mosave averageper(), replace
*/</span>
<div id="cmd_-51029562" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">
/*
// save the compiled averageper function 
mata: mata mosave averageper(), replace
*/</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">comment</td>
  <td class="colLast">
/*
// save the compiled averageper function 
mata: mata mosave averageper(), replace
*/</td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_runcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="240" title="do"><!-- -->
    240</a>&nbsp;<a onclick='toggle("cmd_978828522");' title="do">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">do</span>
  <span class="cmdparameters"><a href="../tokens/g.html#gbpval">gbpval</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_978828522" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">do gbpval.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">do</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/g.html#gbpval">gbpval</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="242" title="type"><!-- -->
    242</a>&nbsp;<a onclick='toggle("cmd_-230871098");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/g.html#gbpval">gbpval</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_-230871098" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type gbpval.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/g.html#gbpval">gbpval</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_runcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="244" title="do"><!-- -->
    244</a>&nbsp;<a onclick='toggle("cmd_1310118594");' title="do">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">do</span>
  <span class="cmdparameters"><a href="../tokens/g.html#gbpval2">gbpval2</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_1310118594" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">do gbpval2.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">do</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/g.html#gbpval2">gbpval2</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="246" title="type"><!-- -->
    246</a>&nbsp;<a onclick='toggle("cmd_1597725842");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/g.html#gbpval2">gbpval2</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_1597725842" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type gbpval2.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/g.html#gbpval2">gbpval2</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_runcmd rowColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="248" title="do"><!-- -->
    248</a>&nbsp;<a onclick='toggle("cmd_-1692492349");' title="do">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">do</span>
  <span class="cmdparameters"><a href="../tokens/g.html#gbpval3">gbpval3</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_-1692492349" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">do gbpval3.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="rowColor">
  <td class="colFirst">command</td>
  <td class="colLast">do</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/g.html#gbpval3">gbpval3</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
 <tr class="cmd_other altColor">
<td class="colFirst" style="width:30px;text-align:right;">
<a name="250" title="type"><!-- -->
    250</a>&nbsp;<a onclick='toggle("cmd_-2049572283");' title="type">[+]</a>
</td>
<td class="colLast" style="padding-left:0em">
 <span class="cmdcommand">type</span>
  <span class="cmdparameters"><a href="../tokens/g.html#gbpval3">gbpval3</a>.<a href="../tokens/m.html#mata">mata</a></span>
<div id="cmd_-2049572283" style="display:none">
<ul class="blockList">
<li class="blockList">
<pre class="wrap">type gbpval3.mata</pre>
</li>
</ul>
  <table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties">
  <caption><span><a name="properties"><!-- --></a>All properties</span><span class="tabEnd">&nbsp;</span></caption>
  <tr>
  <th class="colFirst" scope="col">key</th>
  <th class="colLast"  scope="col">content</th>
  </tr>
  <tbody>
       <tr class="altColor">
  <td class="colFirst">command</td>
  <td class="colLast">type</td>
  </tr>
       <tr class="rowColor">
  <td class="colFirst">indent</td>
  <td class="colLast">0</td>
  </tr>
       <tr class="altColor">
  <td class="colFirst">parameters</td>
  <td class="colLast"><a href="../tokens/g.html#gbpval3">gbpval3</a>.<a href="../tokens/m.html#mata">mata</a></td>
  </tr>
    </tbody>
  </table>
<br>
</br>

</div>
</td>
</tr>
</table>
</li>
</ul>


<a name="content"><!--   --></a>
<!-- ========== CONTENT =========== -->
<ul class="blockList">
<li class="blockList">
<ul class="blockList">
<li class="blockList">
<h3>Content</h3>
<pre>
// itsp 13.00-

capt program drop _all
mata: mata clear

type varextrema.ado

do calcextrema.mata

type calcextrema.mata

sysuse auto, clear
varextrema price if foreign
return list

/*
*! centervars 1.0.1  CFBaum 08oct2007
program centervars, rclass
   version 10.1
   syntax varlist(numeric) [if] [in]
   marksample touse
   quietly count if `touse'
   if `r(N)' == 0  error 2000
   mata: centerv("`varlist'", "`touse'")
end

version 10.1
mata:
void centerv(string scalar varlist, ///
              string scalar touse)
{
  st_view(X=., ., tokens(varlist), touse)
  X[ , ] = X:- mean(X)
}
end



sysuse auto, clear
centervars price mpg
summarize price mpg
*/

program drop _all
mata: mata clear

type centervars.ado

/*
*! centervars 1.0.0  CFBaum 08oct2007
program centervars, rclass
   version 10.1
   syntax varlist(numeric) [if] [in], GENerate(string) [DOUBLE]
   marksample touse
   quietly count if `touse'
   if `r(N)' == 0  error 2000
   foreach v of local varlist {
       confirm new var `generate'`v'
       generate `double' `generate'`v' = .
       local newvars "`newvars' `generate'`v'"
   }
   mata: centerv("`varlist'", "`newvars'", "`touse'")
end
*/
/*
version 10.1
mata:
void centerv(string scalar varlist, ///
              string scalar newvarlist,
              string scalar touse)
{
  st_view(X=., ., tokens(varlist), touse)
  st_view(Z=., ., tokens(newvarlist), touse)
  Z[ , ] = X:- mean(X)
}
end
*/
type centerv.mata

do centerv.mata

sysuse auto, clear
centervars price mpg, gen(c_)
centervars price mpg if foreign, gen(cf_) double
summarize c*


program drop _all
mata: mata clear
type avgper.ado


type avgper.mata

/*
*! avgper 1.0.0  CFBaum 08oct2007
program avgper, rclass
	version 10.1
	syntax varlist(max=1 numeric) [if] [in], per(integer)
// honor if and in conditions if provided
	marksample touse
	quietly count if `touse'
    if `r(N)' == 0 {
       error 2000
    }
	local newvar = "`varlist'" + "A" + string(`per')
	quietly generate `newvar' = .
* pass the varname and newvarname to Mata
	mata: avgper("`varlist'", "`newvar'",  `per', "`touse'")
	end
*/

/*
version 10.1
mata:
	void avgper(string scalar vname,
            string scalar newvname,
	            real scalar per,
	            string scalar touse)
	{      
        real matrix v1, v3
	st_view(v1=., ., vname, touse)
	st_view(v2=., ., newvname)
	v3 = colshape(v1',per) * J(per, 1, 1/per)
	v2[(1::rows(v3)),] = v3
	}
end
*/

do avgper.mata
use urates, clear
tsset
avgper tenn, per(3)  // calculate quarterly averages
avgper tenn, per(12) // calculate annual averages
summarize tenn*

tsmktim quarter, start(1978q1) // create quarterly calendar var
tsmktim year, start(1978)      // create annual calendar var
list t tenn quarter tennA3 year tennA12 in 1/12, sep(3)


use urates, clear
foreach v of varlist tenn-arkansas {
	avgper `v', per(3)
}
summarize tenn-arkansasA3, sep(6)

type aggreg.ado
/*
program aggreg, rclass
	version 10.1
	syntax varlist(max=1 numeric) [if] [in], per(integer) [func(string)]
	marksample touse
	quietly count if `touse'
	if `r(N)' == 0 {
	        error 2000
	}
* validate per versus selected sample
	if `per' <= 0 | `per' >= `r(N)' {
		display as error "per must be > 0 and < N of observations."
		error 198
	}
	if mod(`r(N)',`per' != 0) {
		display as error "N of observations must be a multiple of per."
		error 198
	}
* validate func option; default is average (code A)
    local ops A S F L
    local opnames average sum first last
    if "`func'" == "" {
    	local op "A"
    }
    else {
    	local nop : list posof "`func'" in opnames
    	if !`nop' {
    		display as err "Error: func must be chosen from `opnames'"
    		error 198
    	}
    	local op : word `nop' of `ops'
    }
* validate the new varname
	local newvar = "`varlist'`op'`per'"
     quietly generate `newvar' = .
* pass the varname and newvarname to Mata
	mata: aggreg("`varlist'", "`newvar'",  `per', "`op'", "`touse'")
	end
*/
do aggreg.mata

type aggreg.mata

/*
version 10.1
mata:
void aggreg(string scalar vname,
            string scalar newvname,
	            real scalar per,
	        string scalar op,
	            string scalar touse)
	{
	real colvector mult
	if (op=="A") {
	     mult = J(per, 1, 1/per)
	}
	else if (op=="S") {
	     mult = J(per, 1, 1)
	}
	else if (op=="F") {
		 mult = J(per, 1, 0)
		 mult[1] = 1
	}
	else if (op=="L") {
	     mult = J(per, 1, 0)
	     mult[per] = 1
	}
	st_view(v1=., ., vname, touse)
	st_view(v2=., ., newvname)
	v3 = colshape(v1', per) * mult
	v2[(1::rows(v3)),] = v3
	}
end
*/

* webuse urates, clear
clear

use urates, clear
aggreg tenn, per(3)  // calculate quarterly averages
aggreg tenn, per(3) func(sum) // calculate quarterly sum
aggreg tenn, per(3) func(first) // extract first month's value
aggreg tenn, per(3) func(last) // extract first month's value
tsmktim quarter, start(1978q1) // create quarterly calendar var
list t tenn quarter tennA3 tennS3 tennF3 tennL3 in 1/12, sep(3)

/*
// save the compiled averageper function 
mata: mata mosave averageper(), replace
*/

do gbpval.mata

type gbpval.mata

do gbpval2.mata

type gbpval2.mata

do gbpval3.mata

type gbpval3.mata

</pre>
</li>
</ul>
</li>
</ul>


<ul class="blockList">
<li class="blockList">
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== TOKENS =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Tokens</h3>
</li>
</ul>
</li>
</ul>
</div>
</li>
</ul>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ========= START OF BOTTOM NAVBAR ========= -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li ><a href="../overview/overview-summary.html"  target="classFrame">Overview</a></li>
<li ><a href="../variables/variables-summary.html"  target="classFrame">Variables</a></li>
<li  class="navBarCell1Rev"><a href="../files/files-summary.html"  target="classFrame">Files</a></li>
<li ><a href="../tokens/tokens-summary.html"  target="classFrame">Tokens</a></li>
<!-- <li><a href="../flows/flow-summary.html"  target="classFrame">Flows</a></li> -->
<li ><a href="../overview/help-doc.html"  target="classFrame">Help</a></li>
<!-- <li class="navBarCell1Rev">Active</li> -->
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>
	<a href="../files/ch12.6.do.html" title="ch12.6.do">Prev</a>	
	</li>
<li>
    <a href="../files/ch13.09a.do.html" title="ch13.09a.do" >Next</a>   
    </li>
</ul>
<ul class="navList">
<li><a href="../index.html?files/ch13.01.do.html" target="_top">Frames</a></li>
<li><a href="../files/ch13.01.do.html" target="_top">No Frames</a></li>
</ul>


<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ========= END OF BOTTOM NAVBAR ========= -->
</body>
</html>